angular.module("angular.prime").directive("puiTabview",["$http","$templateCache","$compile",function(a,b,d){return{restrict:"A",compile:function(){return function(f,c,e){function k(){!0===g.closeable&&c.find("a").after('<span class="ui-icon ui-icon-close"></span>')}function l(a,b){var d=$.grep(a,function(a){return b===a.nodeName}),c="";angular.forEach(d,function(a){c+=a.outerHTML});return c}function p(o,e){a.get(e,{cache:b}).success(function(a){m[o]=a;i--;if(0===i){var b="";angular.forEach(m,function(a){b+=
a});var e=$.parseHTML(b),a=l(e,"LI"),e=l(e,"DIV");c.html("<ul>"+a+"</ul><div>"+e+"</div>");k();d(c.contents())(f);$(function(){n||c.puitabview("destroy",{});c.puitabview({orientation:g.orientation||"top"});n=!1})}}).error(function(){console.error("error loading included file for panel of accordion")})}function j(){i=h.length;for(var a=0;a<h.length;a++)p(a,h[a])}var g=f.$eval(e.puiTabview)||{},m=[],h=[],i,n=!0;angular.isArray(g)||angular.isArray(g.urls)?(angular.isArray(g)?f.$watch(e.puiTabview,function(a){h=
a;j()},!0):f.$watch(e.puiTabview+".urls",function(a){h=a;j()},!0),j()):$(function(){0===c.children("ul").length&&(c.children("li").wrapAll("<ul />"),c.children("div").wrapAll("<div />"));k();c.puitabview({orientation:g.orientation||"top"})});g.callback&&c.bind("puitabviewchange",function(a,b){g.callback(b)});void 0!==g.activeElement&&"{"!==e.puiTabview.trim().charAt(0)&&f.$watch(e.puiTabview+".activeElement",function(a){$(function(){angular.isNumber(a)&&c.puitabview("select",a)})})}}}}]);$(function(){$.widget("primeui.puitabview",{options:{activeIndex:0,orientation:"top"},_create:function(){var a=this.element;a.addClass("pui-tabview ui-widget ui-widget-content ui-corner-all ui-hidden-container").children("ul").addClass("pui-tabview-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").children("li").addClass("ui-state-default ui-corner-top");a.addClass("pui-tabview-"+this.options.orientation);a.children("div").addClass("pui-tabview-panels").children().addClass("pui-tabview-panel ui-widget-content ui-corner-bottom");
a.find("> ul.pui-tabview-nav > li").eq(this.options.activeIndex).addClass("pui-tabview-selected ui-state-active");a.find("> div.pui-tabview-panels > div.pui-tabview-panel:not(:eq("+this.options.activeIndex+"))").addClass("ui-helper-hidden");this.navContainer=a.children(".pui-tabview-nav");this.panelContainer=a.children(".pui-tabview-panels");this._bindEvents()},_bindEvents:function(){var a=this;this.navContainer.children("li").on("mouseover.tabview",function(){var a=$(this);!a.hasClass("ui-state-disabled")&&
!a.hasClass("ui-state-active")&&a.addClass("ui-state-hover")}).on("mouseout.tabview",function(){var a=$(this);!a.hasClass("ui-state-disabled")&&!a.hasClass("ui-state-active")&&a.removeClass("ui-state-hover")}).on("click.tabview",function(b){var d=$(this);if($(b.target).is(":not(.ui-icon-close)")){var f=d.index();!d.hasClass("ui-state-disabled")&&f!=a.options.selected&&a.select(f)}b.preventDefault()});this.navContainer.find("li .ui-icon-close").on("click.tabview",function(b){var d=$(this).parent().index();
a.remove(d);b.preventDefault()})},select:function(a){this.options.selected=a;var b=this.panelContainer.children().eq(a),d=this.navContainer.children(),f=d.filter(".ui-state-active"),c=d.eq(b.index()),d=this.panelContainer.children(".pui-tabview-panel:visible"),e=this;d.attr("aria-hidden",!0);f.attr("aria-expanded",!1);b.attr("aria-hidden",!1);c.attr("aria-expanded",!0);this.options.effect?d.hide(this.options.effect.name,null,this.options.effect.duration,function(){f.removeClass("pui-tabview-selected ui-state-active");
c.removeClass("ui-state-hover").addClass("pui-tabview-selected ui-state-active");b.show(e.options.name,null,e.options.effect.duration,function(){e._trigger("change",null,a)})}):(f.removeClass("pui-tabview-selected ui-state-active"),d.hide(),c.removeClass("ui-state-hover").addClass("pui-tabview-selected ui-state-active"),b.show(),this._trigger("change",null,a))},remove:function(a){var b=this.navContainer.children().eq(a),d=this.panelContainer.children().eq(a);this._trigger("close",null,a);b.remove();
d.remove();a==this.options.selected&&(a=this.options.selected==this.getLength()?this.options.selected-1:this.options.selected,this.select(a))},getLength:function(){return this.navContainer.children().length},getActiveIndex:function(){return this.options.selected},_markAsLoaded:function(a){a.data("loaded",!0)},_isLoaded:function(a){return!0==a.data("loaded")},disable:function(a){this.navContainer.children().eq(a).addClass("ui-state-disabled")},enable:function(a){this.navContainer.children().eq(a).removeClass("ui-state-disabled")}})});