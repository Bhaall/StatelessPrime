angular.module("angular.prime").directive("puiPanel",["$interpolate",function(a){return{restrict:"A",compile:function(){return function(c,b,e){var d=c.$eval(e.puiPanel)||{},f=!1,g=!1;$(function(){f=void 0!=b.parent().attr("pui-accordion");g=void 0!=b.parent().attr("pui-tabview")});f&&b.replaceWith("<h3>"+b.attr("title")+"</h3><div>"+b.html()+"</div>");if(g){var j=b.attr("id");b.replaceWith('<li><a href="#"'+j+'">'+b.attr("title")+'</a></li><div id="'+j+'">'+b.html()+"</div>")}if(!f&&!g){var h=[];
if(b.attr("title")){var i=a(b.attr("title"));b.attr("title",c.$eval(i));angular.forEach(i.parts,function(a){angular.isFunction(a)&&h.push(a.exp)},h)}$(function(){b.puipanel({toggleable:void 0!==d.collapsed,closable:d.closable||!1,toggleOrientation:d.toggleOrientation||"vertical",toggleDuration:d.toggleDuration||"normal",closeDuration:d.closeDuration||"normal"})});void 0!==d.collapsed&&"{"!==e.puiPanel.trim().charAt(0)&&c.$watch(e.puiPanel+".collapsed",function(a){$(function(){!1===a&&b.puipanel("expand");
!0===a&&b.puipanel("collapse")})});angular.forEach(h,function(a){c.$watch(a,function(){$(function(){b.puipanel("setTitle",c.$eval(i))})})})}}}}}]);$(function(){$.widget("primeui.puipanel",{options:{toggleable:!1,toggleDuration:"normal",toggleOrientation:"vertical",collapsed:!1,closable:!1,closeDuration:"normal"},_create:function(){this.element.addClass("pui-panel ui-widget ui-widget-content ui-corner-all").contents().wrapAll('<div class="pui-panel-content ui-widget-content" />');var a=this.element.attr("title");a&&this.element.prepend('<div class="pui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all"><span class="ui-panel-title">'+
a+"</span></div>").removeAttr("title");this.header=this.element.children("div.pui-panel-titlebar");this.title=this.header.children("span.ui-panel-title");this.content=this.element.children("div.pui-panel-content");var c=this;this.options.closable&&(this.closer=$('<a class="pui-panel-titlebar-icon ui-corner-all ui-state-default" href="#"><span class="ui-icon ui-icon-closethick"></span></a>').appendTo(this.header).on("click.puipanel",function(a){c.close();a.preventDefault()}));this.options.toggleable&&
(this.toggler=$('<a class="pui-panel-titlebar-icon ui-corner-all ui-state-default" href="#"><span class="ui-icon '+(this.options.collapsed?"ui-icon-plusthick":"ui-icon-minusthick")+'"></span></a>').appendTo(this.header).on("click.puipanel",function(a){c.toggle();a.preventDefault()}),this.options.collapsed&&this.content.hide());this._bindEvents()},_bindEvents:function(){this.header.find("a.pui-panel-titlebar-icon").on("hover.puipanel",function(){$(this).toggleClass("ui-state-hover")})},close:function(){var a=
this;this._trigger("beforeClose",null);this.element.fadeOut(this.options.closeDuration,function(){a._trigger("afterClose",null)})},toggle:function(){this.options.collapsed?this.expand():this.collapse()},expand:function(){this.toggler.children("span.ui-icon").removeClass("ui-icon-plusthick").addClass("ui-icon-minusthick");"vertical"===this.options.toggleOrientation?this._slideDown():"horizontal"===this.options.toggleOrientation&&this._slideRight()},collapse:function(){this.toggler.children("span.ui-icon").removeClass("ui-icon-minusthick").addClass("ui-icon-plusthick");
"vertical"===this.options.toggleOrientation?this._slideUp():"horizontal"===this.options.toggleOrientation&&this._slideLeft()},_slideUp:function(){var a=this;this._trigger("beforeCollapse");this.content.slideUp(this.options.toggleDuration,"easeInOutCirc",function(){a._trigger("afterCollapse");a.options.collapsed=!a.options.collapsed})},_slideDown:function(){var a=this;this._trigger("beforeExpand");this.content.slideDown(this.options.toggleDuration,"easeInOutCirc",function(){a._trigger("afterExpand");
a.options.collapsed=!a.options.collapsed})},_slideLeft:function(){var a=this;this.originalWidth=this.element.width();this.title.hide();this.toggler.hide();this.content.hide();this.element.animate({width:"42px"},this.options.toggleSpeed,"easeInOutCirc",function(){a.toggler.show();a.element.addClass("pui-panel-collapsed-h");a.options.collapsed=!a.options.collapsed})},_slideRight:function(){var a=this,c=this.originalWidth||"100%";this.toggler.hide();this.element.animate({width:c},this.options.toggleSpeed,
"easeInOutCirc",function(){a.element.removeClass("pui-panel-collapsed-h");a.title.show();a.toggler.show();a.options.collapsed=!a.options.collapsed;a.content.css({visibility:"visible",display:"block",height:"auto"})})},setTitle:function(a){this.element.find(".ui-panel-title").html(a)}})});