angular.module("angular.prime").directive("puiTabview",function(){return{restrict:"A",compile:function(){return function(a,b,c){var d=a.$eval(c.puiTabview)||{};$(function(){!0===d.closeable&&b.find("a").after('<span class="ui-icon ui-icon-close"></span>');b.puitabview({orientation:d.orientation||"top"})});d.callback&&b.bind("puitabviewchange",function(a,b){d.callback(b)});void 0!==d.activeElement&&"{"!==c.puiTabview.trim().charAt(0)&&a.$watch(c.puiTabview+".activeElement",function(a){$(function(){angular.isNumber(a)&&
b.puitabview("select",a)})})}}}});$(function(){$.widget("primeui.puitabview",{options:{activeIndex:0,orientation:"top"},_create:function(){var a=this.element;a.addClass("pui-tabview ui-widget ui-widget-content ui-corner-all ui-hidden-container").children("ul").addClass("pui-tabview-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").children("li").addClass("ui-state-default ui-corner-top");a.addClass("pui-tabview-"+this.options.orientation);a.children("div").addClass("pui-tabview-panels").children().addClass("pui-tabview-panel ui-widget-content ui-corner-bottom");
a.find("> ul.pui-tabview-nav > li").eq(this.options.activeIndex).addClass("pui-tabview-selected ui-state-active");a.find("> div.pui-tabview-panels > div.pui-tabview-panel:not(:eq("+this.options.activeIndex+"))").addClass("ui-helper-hidden");this.navContainer=a.children(".pui-tabview-nav");this.panelContainer=a.children(".pui-tabview-panels");this._bindEvents()},_bindEvents:function(){var a=this;this.navContainer.children("li").on("mouseover.tabview",function(){var a=$(this);!a.hasClass("ui-state-disabled")&&
!a.hasClass("ui-state-active")&&a.addClass("ui-state-hover")}).on("mouseout.tabview",function(){var a=$(this);!a.hasClass("ui-state-disabled")&&!a.hasClass("ui-state-active")&&a.removeClass("ui-state-hover")}).on("click.tabview",function(b){var c=$(this);if($(b.target).is(":not(.ui-icon-close)")){var d=c.index();!c.hasClass("ui-state-disabled")&&d!=a.options.selected&&a.select(d)}b.preventDefault()});this.navContainer.find("li .ui-icon-close").on("click.tabview",function(b){var c=$(this).parent().index();
a.remove(c);b.preventDefault()})},select:function(a){this.options.selected=a;var b=this.panelContainer.children().eq(a),c=this.navContainer.children(),d=c.filter(".ui-state-active"),e=c.eq(b.index()),c=this.panelContainer.children(".pui-tabview-panel:visible"),f=this;c.attr("aria-hidden",!0);d.attr("aria-expanded",!1);b.attr("aria-hidden",!1);e.attr("aria-expanded",!0);this.options.effect?c.hide(this.options.effect.name,null,this.options.effect.duration,function(){d.removeClass("pui-tabview-selected ui-state-active");
e.removeClass("ui-state-hover").addClass("pui-tabview-selected ui-state-active");b.show(f.options.name,null,f.options.effect.duration,function(){f._trigger("change",null,a)})}):(d.removeClass("pui-tabview-selected ui-state-active"),c.hide(),e.removeClass("ui-state-hover").addClass("pui-tabview-selected ui-state-active"),b.show(),this._trigger("change",null,a))},remove:function(a){var b=this.navContainer.children().eq(a),c=this.panelContainer.children().eq(a);this._trigger("close",null,a);b.remove();
c.remove();a==this.options.selected&&(a=this.options.selected==this.getLength()?this.options.selected-1:this.options.selected,this.select(a))},getLength:function(){return this.navContainer.children().length},getActiveIndex:function(){return this.options.selected},_markAsLoaded:function(a){a.data("loaded",!0)},_isLoaded:function(a){return!0==a.data("loaded")},disable:function(a){this.navContainer.children().eq(a).addClass("ui-state-disabled")},enable:function(a){this.navContainer.children().eq(a).removeClass("ui-state-disabled")}})});