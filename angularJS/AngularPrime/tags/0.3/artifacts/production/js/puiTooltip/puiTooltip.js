angular.module("angular.prime").directive("puiTooltip",["$interpolate",function(b){return{restrict:"A",compile:function(){return function(c,d,g){var h=g.title,a=c.$eval(g.puiTooltip)||{};a.my=a.my||"left top";a.at=a.at||"right bottom";a.content=a.content||h;a.showEvent=a.showEvent||"mouseover";a.hideEvent=a.hideEvent||"mouseout";a.showEffect=a.showEffect||"fade";a.showEffectSpeed=a.showEffectSpeed||"normal";a.hideEffectSpeed=a.hideEffectSpeed||"normal";a.showDelay=a.showDelay||150;var e=[];if(a.content&&
""!=a.content){var f=b(a.content);a.content=c.$eval(f);angular.forEach(f.parts,function(a){angular.isFunction(a)&&e.push(a.exp)},e);$(function(){d.puitooltip({content:a.content,showEvent:a.showEvent,hideEvent:a.hideEvent,showEffect:a.showEffect,hideEffect:a.hideEffect,showEffectSpeed:a.showEffectSpeed,hideEffectSpeed:a.hideEffectSpeed,my:a.my,at:a.at,showDelay:a.showDelay})});angular.forEach(e,function(a){c.$watch(a,function(){$(function(){d.puitooltip("setTooltipContent",c.$eval(f))})})})}}}}}]);$(function(){$.widget("primeui.puitooltip",{options:{showEvent:"mouseover",hideEvent:"mouseout",showEffect:"fade",hideEffect:null,showEffectSpeed:"normal",hideEffectSpeed:"normal",my:"left top",at:"right bottom",showDelay:150},_create:function(){this.options.showEvent+=".puitooltip";this.options.hideEvent+=".puitooltip";this.element.get(0)===document?this._bindGlobal():this._bindTarget()},_bindGlobal:function(){this.container=$('<div class="pui-tooltip pui-tooltip-global ui-widget ui-widget-content ui-corner-all pui-shadow" />').appendTo(document.body);
this.globalSelector="a,:input,:button,img";var b=this;$(document).off(this.options.showEvent+" "+this.options.hideEvent,this.globalSelector).on(this.options.showEvent,this.globalSelector,null,function(){var c=$(this),d=c.attr("title");d&&(b.container.text(d),b.globalTitle=d,b.target=c,c.attr("title",""),b.show())}).on(this.options.hideEvent,this.globalSelector,null,function(){var c=$(this);b.globalTitle&&(b.container.hide(),c.attr("title",b.globalTitle),b.globalTitle=null,b.target=null)});$(window).unbind("resize.puitooltip").bind("resize.puitooltip",
function(){b.container.is(":visible")&&b._align()})},_bindTarget:function(){this.container=$('<div class="pui-tooltip ui-widget ui-widget-content ui-corner-all pui-shadow" />').appendTo(document.body);var b=this;this.element.off(this.options.showEvent+" "+this.options.hideEvent).on(this.options.showEvent,function(){b.show()}).on(this.options.hideEvent,function(){b.hide()});this.container.html(this.options.content);this.element.removeAttr("title");this.target=this.element;var c="resize."+this.element.attr("id");
$(window).unbind(c).bind(c,function(){b.container.is(":visible")&&b._align()})},_align:function(){this.container.css({left:"",top:"","z-index":++PUI.zindex}).position({my:this.options.my,at:this.options.at,of:this.target})},show:function(){var b=this;this.timeout=setTimeout(function(){b._align();b.container.show(b.options.showEffect,{},b.options.showEffectSpeed)},this.options.showDelay)},hide:function(){clearTimeout(this.timeout);this.container.hide(this.options.hideEffect,{},this.options.hideEffectSpeed,
function(){$(this).css("z-index","")})},setTooltipContent:function(b){this.container.html(b)}})});