$(function(){$.widget("primeui.puiaccordion",{options:{activeIndex:0,multiple:!1},_create:function(){this.options.multiple&&(this.options.activeIndex=[]);var b=this;this.element.addClass("pui-accordion ui-widget ui-helper-reset");this.element.children("h3").addClass("pui-accordion-header ui-helper-reset ui-state-default").each(function(a){var c=$(this),d=c.html(),f=a==b.options.activeIndex?"ui-icon ui-icon-triangle-1-s":"ui-icon ui-icon-triangle-1-e";c.addClass(a==b.options.activeIndex?"ui-state-active ui-corner-top":
"ui-corner-all").html('<span class="'+f+'"></span><a href="#">'+d+"</a>")});this.element.children("div").each(function(a){var c=$(this);c.addClass("pui-accordion-content ui-helper-reset ui-widget-content");a!=b.options.activeIndex&&c.addClass("ui-helper-hidden")});this.headers=this.element.children(".pui-accordion-header");this.panels=this.element.children(".pui-accordion-content");this.headers.children("a").disableSelection();this._bindEvents()},_bindEvents:function(){var b=this;this.headers.mouseover(function(){var a=
$(this);!a.hasClass("ui-state-active")&&!a.hasClass("ui-state-disabled")&&a.addClass("ui-state-hover")}).mouseout(function(){var a=$(this);!a.hasClass("ui-state-active")&&!a.hasClass("ui-state-disabled")&&a.removeClass("ui-state-hover")}).click(function(a){var c=$(this);if(!c.hasClass("ui-state-disabled")){var d=c.index()/2;c.hasClass("ui-state-active")?b.unselect(d):b.select(d)}a.preventDefault()})},select:function(b){var a=this.panels.eq(b);this.options.multiple?this._addToSelection(b):this.options.activeIndex=
b;this._trigger("change",null,{index:b});this._show(a)},unselect:function(b){var a=this.panels.eq(b),c=a.prev();c.attr("aria-expanded",!1).children(".ui-icon").removeClass("ui-icon-triangle-1-s").addClass("ui-icon-triangle-1-e");c.removeClass("ui-state-active ui-corner-top").addClass("ui-corner-all");a.attr("aria-hidden",!0).slideUp();this._removeFromSelection(b)},_show:function(b){if(!this.options.multiple){var a=this.headers.filter(".ui-state-active");a.children(".ui-icon").removeClass("ui-icon-triangle-1-s").addClass("ui-icon-triangle-1-e");
a.attr("aria-expanded",!1).removeClass("ui-state-active ui-corner-top").addClass("ui-corner-all").next().attr("aria-hidden",!0).slideUp()}b.prev().attr("aria-expanded",!0).addClass("ui-state-active ui-corner-top").removeClass("ui-state-hover ui-corner-all").children(".ui-icon").removeClass("ui-icon-triangle-1-e").addClass("ui-icon-triangle-1-s");b.attr("aria-hidden",!1).slideDown("normal")},_addToSelection:function(b){this.options.activeIndex.push(b)},_removeFromSelection:function(b){this.options.activeIndex=
$.grep(this.options.activeIndex,function(a){return a!=b})},getActiveIndex:function(){return this.options.activeIndex}})});angular.module("angular.prime").directive("puiAccordion",["$http","$templateCache","$compile",function(b,a,c){return{restrict:"A",compile:function(){return function(d,f,g){function o(p,g){b.get(g,{cache:a}).success(function(a){l[p]=a;i--;if(0===i){var b="";angular.forEach(l,function(a){b+=a});f.html(b);c(f.contents())(d);$(function(){m||f.puiaccordion("destroy",{});f.puiaccordion({multiple:e.multiple,activeIndex:e.activeIndex});m=!1})}}).error(function(){console.error("error loading included file for panel of accordion")})}
function j(){i=h.length;for(var a=0;a<h.length;a++)o(a,h[a])}function n(a){a=void 0!==a?a:f.puiaccordion("getActiveIndex");d[g.puiAccordion].activeIndex=a}var e=d.$eval(g.puiAccordion)||{},l=[],h=[],i,m=!0;if(angular.isArray(e)||angular.isArray(e.urls))angular.isArray(e)?d.$watch(g.puiAccordion,function(a){h=a;j()},!0):d.$watch(g.puiAccordion+".urls",function(a){h=a;j()},!0),j();else{e.activeIndex=e.activeIndex||0;$(function(){f.puiaccordion({multiple:e.multiple,activeIndex:e.activeIndex})});var k=
g.puiAccordion&&"{"!==g.puiAccordion.trim().charAt(0);(k||e.callback)&&f.bind("puiaccordionchange",function(a,b){var c=b.index;k&&d.safeApply(n(c));e.callback&&e.callback(c)});k&&(n(void 0),d.$watch(g.puiAccordion+".activeIndex",function(a){var b=f.puiaccordion("getActiveIndex");a!==b&&f.puiaccordion("select",a)}))}}}}}]);